<template name="REMAX_TPL_<%=templateId%>_<%=id%>">
  <% function propsKeyTpl(props) {
    return props
      .map(key => `${key}="{{_h.v(i.props['${key}'])}}"`)
      .join(' ')
  } %>
  <% if (['input', 'textarea'].includes(id) && props.includes('focus')) { %>
    <%# 微信的 focus 在某些情况下表现怪异，目前原因未知; 暂时通过区分 focus 来 fix:#395 %>
    <% const propsString = propsKeyTpl(props.filter(key => (key !== 'focus'))) %>
    <<%=id%> wx:if="{{i.props.focus}}" focus <%- propsString %> />
    <<%=id%> wx:else <%- propsString %> />
  <% } else { %>
  <<%=id%> <%- propsKeyTpl(props) %>>
    <% if (id === 'swiper') { %>
    <block wx:for="{{i.children}}" wx:key="id">
      <swiper-item item-id="{{item.props.itemId}}" key="{{item.props.key}}">
        <block wx:for="{{item.children}}" wx:key="id">
          <template is="REMAX_TPL_<%= templateId + 1%>_CONTAINER" data="{{i: item}}" />
        </block>
      </swiper-item>
    </block>
    <% } else if (type === 'native') { %>
    <block wx:for="{{i.children}}" wx:key="id">
      <block wx:if="{{item.props['slot']}}">
        <view <% for(let key of adapter.hostComponents.get('view').props) { %> <%=key%>="{{item.props['<%=key%>']}}"
          <% } %>>
          <block wx:for="{{item.children}}" wx:key="id">
            <template is="REMAX_TPL_<%= templateId + 1%>_CONTAINER" data="{{i: item}}" />
          </block>
        </view>
      </block>
      <block wx:else>
        <template is="REMAX_TPL_<%= templateId + 1%>_CONTAINER" data="{{i: item}}" />
      </block>
    </block>
    <% } else { %>
    <block wx:for="{{i.children}}" wx:key="id">
      <template is="REMAX_TPL_<%= templateId + 1%>_CONTAINER" data="{{i: item}}" />
    </block>
    <% } %>
  </<%=id%>>
  <% } %>
</template>
